<main id="edit-user-cont">
  <div class="alert-registration">
    <span class="ion-android-cancel close-recomend"></span>
    <h1>Recomendacion</h1>
    <p>Detectamos que aun no actualizas tus datos.
     Permitenos porder encontrarte viajes, lo unico que requieres es llenar todos los campos que se te pide y a su vez que sean correctos.
     En esta tarea tardas maximo 5 minutos te pedimos te tomes ese tiempo para asi poder ofrecerte un servicio de calidad.
    </p>
  </div>
  <section class="cont">
    <h1 class="title-edit-user">Editar Usuario</h1>

    <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>
      <%= devise_error_messages! %>

      <div class="cont_fields">
        <%= f.label :email, "Correo electronico" %><br />
        <%= f.email_field :email, autofocus: true %>
      </div>

      <div class="cont_fields">
        <%= f.label :first_name, "Nombre" %><br />
        <%= f.text_field :first_name, autocomplete: "off"%>
      </div>

      <div class="cont_fields">
        <%= f.label :last_name, "Apellido" %><br />
        <%= f.text_field :last_name, autocomplete: "off"%>
      </div>

      <div class="cont_fields">
        <%= f.label :phone, "Telefono" %><br />
        <%= f.text_field :phone, autocomplete: "off"%>
      </div>

      <div class="cont_fields">
        <%= f.label :state, "Estado Actual (Mediante GPS)" %><br />
        <%= f.text_field :state, autocomplete: "off"%>
      </div>

      <div class="cont_fields">
        <%= f.label :city, "Ciudad Actual (Mediante GPS)" %><br />
        <%= f.text_field :city, autocomplete: "off"%>
      </div>

      <div class="cont_fields">
        <%= f.label :street, "Calle" %><br />
        <%= f.text_field :street, autocomplete: "off"%>
      </div>

      <div class="cont_fields">
        <%= f.label :number_out, "Numero exterior" %><br />
        <%= f.text_field :number_out, autocomplete: "off"%>
      </div>

      <div class="cont_fields">
        <%= f.label :number_in, "Numero interior" %><br />
        <%= f.text_field :number_in, autocomplete: "off"%>
      </div>

      <div class="cont_fields">
        <%= f.label :colony, "Colonia" %><br />
        <%= f.text_field :colony, autocomplete: "off"%>
      </div>

      <div class="cont_fields">
        <%= f.label :postal, "Codigo Postal" %><br />
        <%= f.text_field :postal, autocomplete: "off"%>
      </div>

      <div class="cont_fields">
        <%= f.label :company, "Nombre compañia o Razon social" %><br />
        <%= f.text_field :company, autocomplete: "off"%>
      </div>

      <div class="cont_fields">
        <%= f.label :rfc, "RFC" %><br />
        <%= f.text_field :rfc, autocomplete: "off"%>
      </div>

      <div class="cont_fields">
        <%= f.label :description, "Describe brevemente tu empresa o tu personalidad." %><br>
        <%= f.text_area :description %>
      </div>

      <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
        <div>Currently waiting confirmation for: <%= resource.unconfirmed_email %></div>
      <% end %>
      <%if current_user.role == "transportista"%>
        <fieldset>
        <legend>Servicios que ofrece</legend>
         <%for service in Service.all%>
            <div>
                <%= check_box_tag "user[service_ids][]", service.id, @user.services.include?(service)%>
                <%= service.name%>
            </div>
          <% end -%>
        </fieldset>

        <fieldset>
        <legend>Tipos de camiones</legend>
         <%for truck in Truck.all%>
            <div>
                <%= check_box_tag "user[truck_ids][]", truck.id, @user.trucks.include?(truck)%>
                <%= truck.name%>
            </div>
          <% end -%>
        </fieldset>

        <fieldset>
        <legend>Cargas que soportan</legend>
         <%for load in Load.all%>
            <div>
                <%= check_box_tag "user[load_ids][]", load.id, @user.loads.include?(load)%>
                <%= load.range%>
            </div>
          <% end -%>
        </fieldset>
      <% end -%>
      <div class="cont_fields">
        <%= f.label :password, "Contraseña" %> <i>(Si no deseas cambiar tu contraseña dejala en blanco)</i><br />
        <%= f.password_field :password, autocomplete: "off" %>
      </div>

      <div class="cont_fields">
        <%= f.label :password_confirmation, "Repetir contraseña" %><br />
        <%= f.password_field :password_confirmation, autocomplete: "off" %>
      </div>

      <div class="cont_fields">
        <%= f.label :current_password, "Contraseña actual"%> <i>(Necesitas colocar tu contraseña actual para poder hacer cambios)</i><br />
        <%= f.password_field :current_password, autocomplete: "off" %>
      </div>

      <div class="actions">
        <%= f.submit "Actualizar", :class => "submit-edit-user" %>
      </div>
    <% end %>



    <h3>Cancelar mi cuenta</h3>

    <p><%= button_to "Cancelar mi cuenta", registration_path(resource_name), data: { confirm: "Estas seguro" }, method: :delete, :class => "submit-edit-user" %></p>

    <%= link_to :back, :class => "link-back-edit-user" do%>
      <span class="icon-reply"></span>
    <% end %>
   
 </section>
</main>